# =============================================================================
# Citadel OSS Environment Configuration
# =============================================================================
# Copy this file to .env and configure as needed.
# All variables are optional - Citadel works out of the box with heuristics only.

# =============================================================================
# ML MODEL CONFIGURATION (Layer 2: BERT Detection)
# =============================================================================

# Auto-download ML models on first use (~685MB total)
# Set to true for easiest setup
CITADEL_AUTO_DOWNLOAD_MODEL=true

# Enable local Hugot/ONNX classifier (always on for OSS export)
CITADEL_ENABLE_HUGOT=true

# Path to BERT model for intent classification
# Default uses tihilya ModernBERT (Apache 2.0 license)
# HUGOT_MODEL_PATH=./models/modernbert-base

# =============================================================================
# SEMANTIC LAYER CONFIGURATION (Layer 3: Pattern Matching)
# =============================================================================

# The semantic layer uses chromem-go to match input against 229 known attack
# patterns loaded from YAML seed files. Requires embeddings from either:
# 1. Local ONNX model (MiniLM-L6-v2, ~80MB)
# 2. Ollama (fallback if local unavailable)

# Path to local embedding model
# CITADEL_EMBEDDING_MODEL_PATH=./models/all-MiniLM-L6-v2

# Ollama server URL (used for embeddings and LLM if configured)
# OLLAMA_URL=http://localhost:11434

# =============================================================================
# LLM GUARD CONFIGURATION (Layer 4: LLM Classification)
# =============================================================================

# Use an LLM as additional classifier for ambiguous cases.
# Only invoked when heuristic score is between 0.3-0.85 (uncertain zone).

# LLM provider: openrouter, groq, ollama, cerebras, openai, anthropic
# CITADEL_LLM_PROVIDER=groq

# API key for cloud LLM provider
# CITADEL_LLM_API_KEY=gsk_xxx

# Or use OpenRouter for access to 100+ models
# OPENROUTER_API_KEY=sk-or-v1-xxx

# =============================================================================
# DETECTION THRESHOLDS
# =============================================================================

# Score threshold to trigger BLOCK decision (0.0 - 1.0)
# CITADEL_BLOCK_THRESHOLD=0.55

# Score threshold to trigger WARN decision (0.0 - 1.0)
# CITADEL_WARN_THRESHOLD=0.35

# =============================================================================
# SEED PATTERNS
# =============================================================================

# Custom directory for YAML seed files
# Citadel loads attack patterns from YAML files in this directory
# CITADEL_SEED_CONFIG_DIR=./config/seeds
